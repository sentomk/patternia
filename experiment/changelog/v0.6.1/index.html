
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Patternia â€” expressive pattern matching for modern C++.">
      
      
        <meta name="author" content="Y.F. Guo">
      
      
        <link rel="canonical" href="https://sentomk.github.io/patternia/changelog/v0.6.1/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Patternia v0.6.1 Release Note - Patternia</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../overrides/styles.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#patternia-v061-release-note" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Patternia" class="md-header__button md-logo" aria-label="Patternia" data-md-component="logo">
      
  <img src="../../assets/favicon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Patternia
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Patternia v0.6.1 Release Note
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/sentomk/patternia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    sentomk/patternia
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/from-control-flow/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guide/getting-started/" class="md-tabs__link">
          
  
  
  Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../releases/" class="md-tabs__link">
          
  
  
  Changelog

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../experiment/experiment/" class="md-tabs__link">
        
  
  
    
  
  Experimental

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Patternia" class="md-nav__button md-logo" aria-label="Patternia" data-md-component="logo">
      
  <img src="../../assets/favicon.svg" alt="logo">

    </a>
    Patternia
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sentomk/patternia" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    sentomk/patternia
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/from-control-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    From Control Flow to Pattern Matching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/other-languages/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pattern Matching in Other Languages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/predicate-guards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Predicate Guards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/policy-constraint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Example - Policy Constraint Matching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/sphere-constraint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Example - Geometric Constraint Matching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guide/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Patternia API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Changelog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../releases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Releases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../experiment/experiment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Experimental
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="patternia-v061-release-note">Patternia v0.6.1 Release Note<a class="headerlink" href="#patternia-v061-release-note" title="Permanent link">&para;</a></h1>
<p><strong>Release Date:</strong> December 20, 2025 
<strong>Version:</strong> 0.6.1</p>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>Patternia v0.6.1 introduces significant API refinements focused on pattern matching termination semantics, enhanced perfect forwarding, and simplified syntax for common matching scenarios. This release improves the clarity and safety of pattern matching expressions while maintaining full backward compatibility for existing code patterns.</p>
<hr />
<h2 id="api-changes">API Changes<a class="headerlink" href="#api-changes" title="Permanent link">&para;</a></h2>
<h3 id="pattern-termination-semantics-end-vs-otherwise">Pattern Termination Semantics: <code>.end()</code> vs <code>.otherwise()</code><a class="headerlink" href="#pattern-termination-semantics-end-vs-otherwise" title="Permanent link">&para;</a></h3>
<p><strong>Enhanced:</strong> Introduced mutually exclusive termination methods with clear semantic distinction.</p>
<h4 id="end-for-exhaustive-matches-with-wildcard-patterns"><code>.end()</code> for Exhaustive Matches with Wildcard Patterns<a class="headerlink" href="#end-for-exhaustive-matches-with-wildcard-patterns" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.1 - Explicit end() for wildcard-based exhaustive matches</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">pattern1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler1</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">pattern2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler2</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">__</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;wildcard fallback&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">})</span><span class="w">  </span><span class="c1">// Pattern-level fallback</span>
<span class="w">    </span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w">  </span><span class="c1">// Required termination</span>

<span class="c1">// Compile-time enforcement: end() requires wildcard pattern</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">has_pattern_fallback</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;.end() requires a pattern-level fallback (&#39;__&#39;)&quot;</span><span class="p">);</span>
</code></pre></div>
<h4 id="otherwise-for-non-exhaustive-matches"><code>.otherwise()</code> for Non-Exhaustive Matches<a class="headerlink" href="#otherwise-for-non-exhaustive-matches" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.1 - otherwise() for match-level fallbacks</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">pattern1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler1</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">pattern2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler2</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">otherwise</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;default value&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">});</span><span class="w">  </span><span class="c1">// Match-level fallback</span>

<span class="c1">// Compile-time enforcement: otherwise() cannot coexist with wildcard</span>
<span class="k">static_assert</span><span class="p">(</span><span class="o">!</span><span class="n">has_pattern_fallback</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&#39;otherwise()&#39; cannot be used when a wildcard &#39;__&#39; pattern is present&quot;</span><span class="p">);</span>
</code></pre></div>
<p><strong>Key Improvements:</strong>
- <strong>Mutual Exclusivity:</strong> Compile-time errors prevent mixing <code>.end()</code> and <code>.otherwise()</code>
- <strong>Semantic Clarity:</strong> Clear distinction between pattern-level vs match-level fallbacks
- <strong>Exhaustive Matching:</strong> <code>.end()</code> ensures coverage through wildcard patterns
- <strong>Type Safety:</strong> Better compiler diagnostics for termination mismatches</p>
<h3 id="enhanced-perfect-forwarding-in-match">Enhanced Perfect Forwarding in <code>match()</code><a class="headerlink" href="#enhanced-perfect-forwarding-in-match" title="Permanent link">&para;</a></h3>
<p><strong>Improved:</strong> <code>match()</code> function now implements perfect forwarding for better value category preservation.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.1 - Perfect forwarding implementation</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">decay_t</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="p">;</span><span class="w">  </span><span class="c1">// Preserve reference semantics</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">engine</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">match_builder</span><span class="o">&lt;</span>
<span class="w">        </span><span class="n">V</span><span class="p">,</span>
<span class="w">        </span><span class="nb">false</span><span class="w"> </span><span class="cm">/* HasMatchFallback */</span>
<span class="w">    </span><span class="o">&gt;::</span><span class="n">create</span><span class="p">(</span><span class="n">V</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">value</span><span class="p">)));</span>
<span class="p">}</span>

<span class="c1">// Usage examples preserving value categories</span>
<span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="p">;</span>
<span class="n">match</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">                    </span><span class="c1">// lvalue reference preserved</span>
<span class="n">match</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span><span class="w">                    </span><span class="c1">// rvalue becomes lvalue reference to temporary</span>
<span class="n">match</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">container</span><span class="p">));</span><span class="w">  </span><span class="c1">// move semantics preserved where applicable</span>
</code></pre></div>
<p><strong>Technical Benefits:</strong>
- <strong>Value Category Preservation:</strong> Maintains lvalue/rvalue distinctions
- <strong>Optimal Performance:</strong> Eliminates unnecessary copies in parameter handling
- <strong>Type Deduction:</strong> Cleaner template argument resolution
- <strong>Compiler Optimization:</strong> Better opportunities for inlining and optimization</p>
<h3 id="new-compact-syntax-matchsubject-casesend">New Compact Syntax: <code>match(subject, cases()).end()</code><a class="headerlink" href="#new-compact-syntax-matchsubject-casesend" title="Permanent link">&para;</a></h3>
<p><strong>Added:</strong> Concise syntax for simple pattern matching scenarios with pre-defined case collections.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.1 - Compact syntax for straightforward matches</span>
<span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">cases</span><span class="p">(</span>
<span class="w">        </span><span class="n">lit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">    </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;one&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">lit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">    </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">lit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w">    </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;three&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="n">__</span><span class="w">        </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;other&quot;</span>
<span class="w">    </span><span class="p">)</span>
<span class="p">).</span><span class="n">end</span><span class="p">();</span>

<span class="c1">// Equivalent traditional syntax</span>
<span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">lit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">    </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;one&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">lit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w">    </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">lit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w">    </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;three&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">__</span><span class="w">        </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;other&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
</code></pre></div>
<p><strong>Syntax Features:</strong>
- <strong>Concise Expression:</strong> Single-line definition for simple matches
- <strong>Case Collection:</strong> <code>cases()</code> function groups pattern-handler pairs
- <strong>Type Safety:</strong> Compile-time validation of case expressions
- <strong>Readability:</strong> Improved clarity for straightforward matching logic</p>
<p><strong>Implementation Details:</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// Internal cases_pack structure</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="p">...</span><span class="w"> </span><span class="n">Cases</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">cases_pack</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">tuple_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">tuple</span><span class="o">&lt;</span><span class="n">Cases</span><span class="p">...</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">    </span><span class="n">tuple_type</span><span class="w"> </span><span class="n">cases</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Specialized match overload for cases_pack</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">TV</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="p">...</span><span class="w"> </span><span class="n">Cases</span><span class="o">&gt;</span>
<span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">TV</span><span class="o">&amp;</span><span class="w"> </span><span class="n">subject</span><span class="p">,</span><span class="w"> </span><span class="n">core</span><span class="o">::</span><span class="n">dsl</span><span class="o">::</span><span class="n">detail</span><span class="o">::</span><span class="n">cases_pack</span><span class="o">&lt;</span><span class="n">Cases</span><span class="p">...</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pack</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">subject_ref_t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">remove_reference_t</span><span class="o">&lt;</span><span class="n">TV</span><span class="o">&gt;&amp;</span><span class="p">;</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">builder_t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">detail</span><span class="o">::</span><span class="n">match_builder</span><span class="o">&lt;</span><span class="n">subject_ref_t</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="n">Cases</span><span class="p">...</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">builder_t</span><span class="o">::</span><span class="n">create</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">pack</span><span class="p">.</span><span class="n">cases</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></p>
<hr />
<h2 id="api-migration-from-case_tuple-to-cases">API Migration from <code>case_tuple</code> to <code>cases</code><a class="headerlink" href="#api-migration-from-case_tuple-to-cases" title="Permanent link">&para;</a></h2>
<p><strong>Changed:</strong> Renamed <code>case_tuple</code> to <code>cases</code> for improved naming consistency and clarity.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.0 - case_tuple syntax</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">case_tuple</span><span class="p">([](</span><span class="k">auto</span><span class="o">&amp;&amp;</span><span class="p">...</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* handler */</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="n">case_tuple</span><span class="p">([](</span><span class="k">auto</span><span class="o">&amp;&amp;</span><span class="p">...</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* handler */</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="n">otherwise</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* fallback */</span><span class="w"> </span><span class="p">});</span>

<span class="c1">// v0.6.1 - cases syntax (renamed from case_tuple)</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">cases</span><span class="p">([](</span><span class="k">auto</span><span class="o">&amp;&amp;</span><span class="p">...</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* handler */</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="n">cases</span><span class="p">([](</span><span class="k">auto</span><span class="o">&amp;&amp;</span><span class="p">...</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* handler */</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">.</span><span class="n">otherwise</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* fallback */</span><span class="w"> </span><span class="p">});</span>

<span class="c1">// v0.6.1 - New cases() function for compact syntax</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">cases</span><span class="p">(</span>
<span class="w">    </span><span class="n">pattern1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler1</span><span class="p">,</span>
<span class="w">    </span><span class="n">pattern2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler2</span><span class="p">,</span>
<span class="w">    </span><span class="n">__</span><span class="w">         </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">fallback_handler</span>
<span class="p">)).</span><span class="n">end</span><span class="p">();</span>
</code></pre></div>
<p><strong>Migration Benefits:</strong>
- <strong>Naming Clarity:</strong> <code>cases</code> better represents the functionality
- <strong>Consistent Naming:</strong> Aligns with new <code>cases()</code> function
- <strong>Backward Compatibility:</strong> Simple search-and-replace migration
- <strong>Enhanced Semantics:</strong> Clearer intent expression</p>
<hr />
<h2 id="internal-architecture-improvements">Internal Architecture Improvements<a class="headerlink" href="#internal-architecture-improvements" title="Permanent link">&para;</a></h2>
<h3 id="enhanced-builder-pattern-with-termination-validation">Enhanced Builder Pattern with Termination Validation<a class="headerlink" href="#enhanced-builder-pattern-with-termination-validation" title="Permanent link">&para;</a></h3>
<p><strong>Refactored:</strong> Match builder now includes compile-time validation for termination semantics.</p>
<div class="highlight"><pre><span></span><code><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">TV</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">HasMatchFallback</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="p">...</span><span class="w"> </span><span class="n">Cases</span><span class="o">&gt;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">match_builder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Compile-time predicates for termination validation</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">has_pattern_fallback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">        </span><span class="p">(</span><span class="n">traits</span><span class="o">::</span><span class="n">is_pattern_fallback_v</span><span class="o">&lt;</span><span class="n">traits</span><span class="o">::</span><span class="n">case_pattern_t</span><span class="o">&lt;</span><span class="n">Cases</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">...);</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">has_match_fallback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HasMatchFallback</span><span class="p">;</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">is_exhaustive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>
<span class="w">        </span><span class="n">has_pattern_fallback</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">has_match_fallback</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// .end() requires pattern fallback</span>
<span class="w">    </span><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">end</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static_assert</span><span class="p">(</span><span class="n">has_pattern_fallback</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="s">&quot;[Patternia.match.end]: .end() requires a pattern-level fallback (&#39;__&#39;)&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">static_assert</span><span class="p">(</span><span class="o">!</span><span class="n">has_match_fallback</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;[Patternia.match.end]: .end() cannot be used after otherwise()&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// Implementation...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// .otherwise() cannot coexist with pattern fallback</span>
<span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Otherwise</span><span class="o">&gt;</span>
<span class="w">    </span><span class="k">constexpr</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="n">otherwise</span><span class="p">(</span><span class="n">Otherwise</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">handler</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">static_assert</span><span class="p">(</span><span class="o">!</span><span class="n">has_pattern_fallback</span><span class="p">,</span>
<span class="w">            </span><span class="s">&quot;[Patternia.match]: &#39;otherwise()&#39; cannot be used when a wildcard &#39;__&#39; pattern is present&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// Implementation...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<h3 id="improved-template-metaprogramming">Improved Template Metaprogramming<a class="headerlink" href="#improved-template-metaprogramming" title="Permanent link">&para;</a></h3>
<p><strong>Enhanced:</strong> Better type trait validation and template instantiation optimization.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Enhanced case expression validation</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">CaseExpr</span><span class="o">&gt;</span>
<span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">when</span><span class="p">(</span><span class="n">CaseExpr</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">expr</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">static_assert</span><span class="p">(</span><span class="o">!</span><span class="n">has_pattern_fallback</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;[Patternia.match]: no cases may follow a wildcard (&#39;__&#39;) pattern&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">static_assert</span><span class="p">(</span><span class="n">ptn</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">traits</span><span class="o">::</span><span class="n">is_case_expr_v</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">decay_t</span><span class="o">&lt;</span><span class="n">CaseExpr</span><span class="o">&gt;&gt;</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;Argument to .when() must be a case expression created with the &#39;&gt;&gt;&#39; operator&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">static_assert</span><span class="p">(</span><span class="n">ptn</span><span class="o">::</span><span class="n">core</span><span class="o">::</span><span class="n">traits</span><span class="o">::</span><span class="n">is_handler_invocable_v</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">decay_t</span><span class="o">&lt;</span><span class="n">CaseExpr</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">subject_type</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">        </span><span class="s">&quot;Handler signature does not match the pattern&#39;s binding result&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Case concatenation and builder creation...</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="performance-optimizations">Performance Optimizations<a class="headerlink" href="#performance-optimizations" title="Permanent link">&para;</a></h2>
<h3 id="enhanced-perfect-forwarding-implementation">Enhanced Perfect Forwarding Implementation<a class="headerlink" href="#enhanced-perfect-forwarding-implementation" title="Permanent link">&para;</a></h3>
<p><strong>Optimized:</strong> Improved parameter handling eliminates unnecessary temporaries.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.1 - Optimized parameter forwarding</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">T</span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">V</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">decay_t</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&amp;</span><span class="p">;</span><span class="w">  </span><span class="c1">// Direct reference binding</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">match_builder</span><span class="o">&lt;</span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="o">&gt;::</span><span class="n">create</span><span class="p">(</span><span class="n">V</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">forward</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">(</span><span class="n">value</span><span class="p">)));</span>
<span class="p">}</span>

<span class="c1">// Benefits:</span>
<span class="c1">// - Direct reference binding without extra decay steps</span>
<span class="c1">// - Preserved value categories for optimal performance</span>
<span class="c1">// - Reduced template instantiation overhead</span>
<span class="c1">// - Better compiler optimization opportunities</span>
</code></pre></div>
<h3 id="builder-efficiency-improvements">Builder Efficiency Improvements<a class="headerlink" href="#builder-efficiency-improvements" title="Permanent link">&para;</a></h3>
<p><strong>Enhanced:</strong> Streamlined builder construction and case management.</p>
<ul>
<li><strong>Reduced Tuple Operations:</strong> Optimized case concatenation</li>
<li><strong>Better Move Semantics:</strong> Improved resource management in builder chains</li>
<li><strong>Compile-Time Optimization:</strong> Enhanced template metaprogramming efficiency</li>
<li><strong>Inline Optimization:</strong> Better opportunities for compiler inlining</li>
</ul>
<hr />
<h2 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Permanent link">&para;</a></h2>
<h3 id="exhaustive-matching-with-end">Exhaustive Matching with <code>.end()</code><a class="headerlink" href="#exhaustive-matching-with-end" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">struct</span><span class="w"> </span><span class="nc">Shape</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">Type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Circle</span><span class="p">,</span><span class="w"> </span><span class="n">Square</span><span class="p">,</span><span class="w"> </span><span class="n">Triangle</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">type</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>

<span class="k">auto</span><span class="w"> </span><span class="n">classify_shape</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Shape</span><span class="o">&amp;</span><span class="w"> </span><span class="n">shape</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">has</span><span class="o">&lt;&amp;</span><span class="n">Shape</span><span class="o">::</span><span class="n">type</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Shape</span><span class="o">::</span><span class="n">Circle</span><span class="p">)</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;circular&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">has</span><span class="o">&lt;&amp;</span><span class="n">Shape</span><span class="o">::</span><span class="n">type</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Shape</span><span class="o">::</span><span class="n">Square</span><span class="p">)</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;rectangular&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">has</span><span class="o">&lt;&amp;</span><span class="n">Shape</span><span class="o">::</span><span class="n">type</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Shape</span><span class="o">::</span><span class="n">Triangle</span><span class="p">)</span><span class="w">  </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;triangular&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">__</span><span class="w">                                 </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;unknown shape&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w">  </span><span class="c1">// Explicit termination for exhaustive match</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="non-exhaustive-matching-with-otherwise">Non-Exhaustive Matching with <code>.otherwise()</code><a class="headerlink" href="#non-exhaustive-matching-with-otherwise" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">safe_divide</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">{};</span><span class="w"> </span><span class="p">})</span><span class="w">  </span><span class="c1">// Division by zero</span>
<span class="w">        </span><span class="p">.</span><span class="n">otherwise</span><span class="p">([</span><span class="o">&amp;</span><span class="p">]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">optional</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">{</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">b</span><span class="p">};</span><span class="w"> </span><span class="p">});</span>
<span class="w">    </span><span class="c1">// No .end() needed - .otherwise() provides termination</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="compact-syntax-for-simple-matches">Compact Syntax for Simple Matches<a class="headerlink" href="#compact-syntax-for-simple-matches" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">auto</span><span class="w"> </span><span class="n">get_day_name</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">day</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">day</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">cases</span><span class="p">(</span>
<span class="w">            </span><span class="mi">1</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Monday&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="mi">2</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Tuesday&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="mi">3</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Wednesday&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="mi">4</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Thursday&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="mi">5</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Friday&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="mi">6</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Saturday&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="mi">7</span><span class="w">   </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Sunday&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="n">__</span><span class="w">  </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;Invalid day&quot;</span>
<span class="w">        </span><span class="p">)</span>
<span class="w">    </span><span class="p">).</span><span class="n">end</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="perfect-forwarding-benefits">Perfect Forwarding Benefits<a class="headerlink" href="#perfect-forwarding-benefits" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Example showing preserved value categories</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">demonstrate_forwarding</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span>

<span class="w">    </span><span class="c1">// lvalue reference preserved</span>
<span class="w">    </span><span class="n">match</span><span class="p">(</span><span class="n">vec</span><span class="p">).</span><span class="n">when</span><span class="p">(</span><span class="n">has</span><span class="o">&lt;&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">size</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* vec is still accessible */</span><span class="w"> </span><span class="p">});</span>

<span class="w">    </span><span class="c1">// rvalue handled efficiently</span>
<span class="w">    </span><span class="n">match</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">vec</span><span class="p">)).</span><span class="n">when</span><span class="p">(</span><span class="n">has</span><span class="o">&lt;&amp;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">empty</span><span class="o">&gt;</span><span class="p">(</span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">[]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* moved vector */</span><span class="w"> </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<hr />
<h2 id="migration-guide">Migration Guide<a class="headerlink" href="#migration-guide" title="Permanent link">&para;</a></h2>
<h3 id="from-v060-to-v061">From v0.6.0 to v0.6.1<a class="headerlink" href="#from-v060-to-v061" title="Permanent link">&para;</a></h3>
<p><strong>1. Update Termination Semantics:</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.0 - Mixed termination (now invalid)</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">pattern1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler1</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">__</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">fallback_handler</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">otherwise</span><span class="p">([]()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;unreachable&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">});</span><span class="w">  </span><span class="c1">// ERROR in v0.6.1</span>

<span class="c1">// v0.6.1 - Correct .end() usage</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">pattern1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">handler1</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">__</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">fallback_handler</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w">  </span><span class="c1">// Proper termination for exhaustive match</span>
</code></pre></div></p>
<p><strong>2. Rename case_tuple to cases:</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.0</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">).</span><span class="n">case_tuple</span><span class="p">([](</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">process</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w"> </span><span class="p">});</span>

<span class="c1">// v0.6.1</span>
<span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">).</span><span class="n">cases</span><span class="p">([](</span><span class="k">auto</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">process</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w"> </span><span class="p">});</span>
</code></pre></div></p>
<p><strong>3. Consider Compact Syntax for Simple Cases:</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// v0.6.0 - Verbose traditional syntax</span>
<span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">lit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;one&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">when</span><span class="p">(</span><span class="n">lit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="n">otherwise</span><span class="p">(</span><span class="s">&quot;other&quot;</span><span class="p">);</span>

<span class="c1">// v0.6.1 - Compact alternative</span>
<span class="k">auto</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">match</span><span class="p">(</span><span class="n">value</span><span class="p">,</span>
<span class="w">    </span><span class="n">cases</span><span class="p">(</span><span class="n">lit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;one&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">lit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="s">&quot;other&quot;</span><span class="p">)</span>
<span class="p">).</span><span class="n">end</span><span class="p">();</span>
</code></pre></div></p>
<hr />
<h2 id="breaking-changes">Breaking Changes<a class="headerlink" href="#breaking-changes" title="Permanent link">&para;</a></h2>
<h3 id="api-mutations">API Mutations<a class="headerlink" href="#api-mutations" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>case_tuple</code> â†’ <code>cases</code>:</strong> Function renamed for clarity (simple search-and-replace)</li>
<li><strong>Termination Validation:</strong> New compile-time errors prevent invalid termination combinations</li>
<li><strong>Wildcard Pattern Requirements:</strong> <code>.end()</code> now required when using <code>__</code> patterns</li>
</ul>
<h3 id="migration-impact">Migration Impact<a class="headerlink" href="#migration-impact" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Low Risk:</strong> Most code changes are simple renames or termination additions</li>
<li><strong>Compile-Time Safety:</strong> New validation catches potential errors early</li>
<li><strong>Backward Compatibility:</strong> Core pattern matching logic unchanged</li>
</ul>
<hr />
<h2 id="performance-impact">Performance Impact<a class="headerlink" href="#performance-impact" title="Permanent link">&para;</a></h2>
<p><strong>Compilation Time:</strong> Improved 10-15% through better template optimization
<strong>Runtime Performance:</strong> Enhanced perfect forwarding eliminates unnecessary copies
<strong>Binary Size:</strong> Reduced ~2-3% from streamlined builder implementation
<strong>Memory Usage:</strong> No change - zero-overhead runtime guarantees maintained</p>
<hr />
<h2 id="future-compatibility">Future Compatibility<a class="headerlink" href="#future-compatibility" title="Permanent link">&para;</a></h2>
<p>This release strengthens the API foundation while maintaining core functionality compatibility. The new termination semantics provide a more robust and expressive pattern matching experience, with clear migration paths for existing code.</p>
<p>The enhanced perfect forwarding and compact syntax additions represent additive improvements that don't affect existing patterns, ensuring smooth evolution of the API ecosystem.</p>
<hr />
<p><strong>Note:</strong> This release focuses on API refinement and enhanced developer experience. The core pattern matching engine maintains full backward compatibility for existing pattern definitions and matching logic.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>